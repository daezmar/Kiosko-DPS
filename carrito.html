<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gasolinera del Bienestar</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <header class="kiosk-header">
        <h1>Su Carrito</h1>
        <p>Revise su pedido</p>
    </header>

    <main class="container">
 <div id="listaCarrito"></div>

<div class="cart-total-box">
    <h2 id="total"></h2>
</div>

<script>
let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

function mostrarCarrito() {
    const lista = document.getElementById("listaCarrito");
    const totalElemento = document.getElementById("total");

    lista.innerHTML = "";
    let total = 0;

    carrito.forEach((producto, index) => {
        const subtotal = producto.precio * producto.cantidad;
        total += subtotal;

        lista.innerHTML += `
            <div class="cart-item-row">
                <div class="item-info">
                    <h3>${producto.nombre}</h3>
                    <p>Precio U: $${producto.precio}</p>
                </div>
                <div class="item-controls">
                    <span class="item-subtotal">$${subtotal.toFixed(2)}</span>
                    <button onclick="eliminarProducto(${index})" class="btn-delete">Eliminar</button>
                </div>
            </div>
        `;
    });

    totalElemento.textContent = "Total General: $" + total.toFixed(2);
}

function eliminarProducto(index) {
    alert("Boton funciona");
    carrito.splice(index, 1);
    localStorage.setItem("carrito", JSON.stringify(carrito));
    mostrarCarrito();
}

mostrarCarrito();
</script>
    </main>

    <footer class="bottom-nav split-nav">
        <a href="index.html" class="btn-nav secondary"> Volver al Kiosko </a>
        <a href="factura.html" class="btn-nav primary"> Proceder al Pago </a>
    </footer>

</body>
</html>
